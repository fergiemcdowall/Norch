#!/usr/bin/env node

const norch = require('../lib/index.mjs')
const program = require('commander')

program.version(require('../package.json').version)
  .option('-o, --siOptions <siOptions>', 'specify search-index options', String, '{}')
  .option('-p, --port <port>', 'specify the port, defaults to PORT or 3030', Number, process.env.PORT || 3030)
  .option('-i, --norchHome <norchHome>', 'specify the name of the directory that stores the data and the logs, defaults to norch-index', String, 'norch-index')
  .parse(process.argv)

norch({
  norchHome: program.norchHome,
  port: program.port,
  siOptions: JSON.parse(program.siOptions)
})
